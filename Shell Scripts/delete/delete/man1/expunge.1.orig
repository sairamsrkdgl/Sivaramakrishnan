.\"	$Source: /afs/athena.mit.edu/user/j/jik/delete/src/man1/RCS/expunge.1,v $
.\"	$Author: jik $
.\"	$Header: /afs/athena.mit.edu/user/j/jik/delete/src/man1/RCS/expunge.1,v 1.9 91/01/01 05:09:52 jik Exp $
.\"
.\" Copyright 1989 by the Massachusetts Institute of Technology.  All
.\" rights reserved.  The file /usr/include/mit-copyright.h specifies
.\" the terms and conditions for redistribution.
.\"
.\"
.TH EXPUNGE 1 "January 27, 1988" "MIT Project Athena"
.ds ]W MIT Project Athena
.SH NAME
expunge, purge \- permanent removal of deleted files
.SH SYNOPSIS
.B expunge
[
.B \-r
] [
.B \-i
] [
.B \-f
] [
.B \-t \fIn\fR
] [
.B \-n
] [
.B \-v
] [
.B \-l
] [
.B \-s
] [
.B \-m
] [
.B \-y
] [
.B \-\|\-
] [ filename [ ... ]]
.PP
.B purge
.PP
.SH DESCRIPTION
.I Expunge
and
.I purge
permanently remove files which have been marked for deletion using
\fIdelete\fR(1).  Files removed with \fIexpunge\fR or \fIpurge\fR
cannot be recovered, and care should therefore be exercised in the
use of these utilities.
.PP
.I Purge
is a simple utility which takes no command-line arguments.  When it is
executed, it searches through the user's entire home directory and
finds all files that have been marked for deletion.  It then displays
a list of the files where are to be removed and prompts for
confirmation.  A response from the user starting with the letter
\fIy\fR will cause the files to be permanently expunged.
.PP
Because
.I purge
searches through the user's entire home directory, it can take quite a
while to complete its search.  This is normal.
.PP
The filenames passed to
.I expunge
on the command-line can be directories (deleted or not deleted) or
deleted files.  Deleted files or directories are always completely
expunged, while the treatment of non-deleted directories depends on
the
.BR \-r
command-line option (see below).  If no command-line filenames are
specified,
.I expunge
defaults to the current working directory.
.PP
For information about wildcard use with \fIexpunge\fR, please see
\fIundelete\fR(1).
.PP
.SH OPTIONS
.I Expunge
accepts the following command-line options:
.TP
.B \-r
When a non-deleted directory is passed to \fIexpunge\fR, the 
.BR \-r
option causes the directory to be searced recursively for deleted
files.  If the recursive option is \fInot\fR specified, only the
direct children of the non-deleted directory are examined.  A
recursive search of a large directory can take quite a while.
.TP
.B \-i
The user is prompted for confirmation with the name of the file and
its size in kilobytes before each file or directory is
removed.
.TP
.B \-f
Used in conjunction with the
.BR \-l
option, this option prevents 
.I expunge
from prompting for confirmation after listing all the files that are
to be deleted.  Furthermore, it prevents the printing of error
messages.
.TP
.B \-t\fIn\fR
Specifies the minimum age (in days) of files to be expunged, measured
as the length of time since the file was
.IR delete d.
.TP
.B \-n
No file expunges are performed.  Instead,
.I expunge
prints to the standard output the files that it would expunge were the
.BR \-n
option not specified.
.TP
.B \-v
Causes 
.I expunge
to report each file as it is expunged, as well as the size of the file
and a running total of the number of kilobytes expunged.
.TP
.B \-l
Causes 
.I expunge
to list all found files before expunging them, similar to the actions
of
.I purge.
.TP
.B \-s
Symbolic links are followed when searching for deleted files.
.TP
.B \-m
Mount points are followed when searching for deleted files.
.TP
.B \-y
The total number of kilobytes expunged is printed after
.I expunge
is finished removing files.
.TP
.B \-\|\-
Two dashes indicate that all arguments following it are to be treated
as file names, even if they start with a dash.
.SH "SEE ALSO"
delete(1), undelete(1), lsdel(1), rm(1), rmdir(1)
.SH AUTHOR
Jonathan I. Kamens (MIT-Project Athena)
.SH RESTRICTIONS
Copyright (c) 1989 by the Massachusetts Institute of Technology.  All
rights reserved.
.IR Delete (1)
specifies the terms and conditions for redistribution.
